// 📁 zapkart/app.js const express = require('express'); const mongoose = require('mongoose'); const bodyParser = require('body-parser'); const session = require('express-session'); const path = require('path'); const app = express();

mongoose.connect('mongodb://127.0.0.1:27017/zapkart');

app.set('view engine', 'ejs'); app.set('views', path.join(__dirname, 'views')); app.use(express.static(path.join(__dirname, 'public'))); app.use(bodyParser.urlencoded({ extended: false })); app.use(session({ secret: 'zapkartsecret', resave: false, saveUninitialized: true }));

const indexRoutes = require('./routes/index'); app.use('/', indexRoutes);

app.listen(3000, () => console.log('ZapKart running on http://localhost:3000'));

// 📁 zapkart/models/product.js const mongoose = require('mongoose'); const productSchema = new mongoose.Schema({ name: String, description: String, price: Number, image: String, category: String }); module.exports = mongoose.model('Product', productSchema);

// 📁 zapkart/models/order.js const mongoose = require('mongoose'); const orderSchema = new mongoose.Schema({ name: String, address: String, phone: String, cart: Array, total: Number, date: { type: Date, default: Date.now } }); module.exports = mongoose.model('Order', orderSchema);

// 📁 zapkart/routes/index.js const express = require('express'); const router = express.Router(); const Product = require('../models/product'); const Order = require('../models/order');

router.get('/', async (req, res) => { const products = await Product.find(); res.render('home', { products }); });

router.get('/product/:id', async (req, res) => { const product = await Product.findById(req.params.id); res.render('product', { product }); });

router.get('/cart', (req, res) => { const cart = req.session.cart || []; res.render('cart', { cart }); });

router.post('/add-to-cart/:id', async (req, res) => { const product = await Product.findById(req.params.id); const cart = req.session.cart || []; cart.push(product); req.session.cart = cart; res.redirect('/cart'); });

router.get('/checkout', (req, res) => { const cart = req.session.cart || []; res.render('checkout', { cart }); });

router.post('/checkout', async (req, res) => { const { name, address, phone } = req.body; const cart = req.session.cart || []; const total = cart.reduce((sum, item) => sum + item.price, 0); const order = new Order({ name, address, phone, cart, total }); await order.save(); req.session.cart = []; res.render('success', { order }); });

module.exports = router;

// 📁 zapkart/views/home.ejs

<!DOCTYPE html><html>
<head>
  <title>ZapKart</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100">
  <div class="container mx-auto py-8">
    <h1 class="text-3xl font-bold mb-6">ZapKart Grocery</h1>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <% products.forEach(product => { %>
        <div class="bg-white p-4 rounded shadow">
          <img src="<%= product.image %>" class="w-full h-48 object-cover mb-4" />
          <h2 class="text-xl font-semibold"><%= product.name %></h2>
          <p class="text-gray-700">₹<%= product.price %></p>
          <a href="/product/<%= product._id %>" class="bg-blue-500 text-white px-4 py-2 mt-2 inline-block rounded">View</a>
        </div>
      <% }) %>
    </div>
  </div>
</body>
</html>// 📁 zapkart/views/product.ejs

<!DOCTYPE html><html>
<head>
  <title><%= product.name %></title>
</head>
<body>
  <h1><%= product.name %></h1>
  <img src="<%= product.image %>" width="200" />
  <p><%= product.description %></p>
  <p>₹<%= product.price %></p>
  <form action="/add-to-cart/<%= product._id %>" method="POST">
    <button type="submit">Add to Cart</button>
  </form>
</body>
</html>// 📁 zapkart/views/cart.ejs

<!DOCTYPE html><html>
<head><title>Your Cart</title></head>
<body>
  <h1>Your Cart</h1>
  <% if(cart.length === 0){ %>
    <p>No items in cart.</p>
  <% } else { %>
    <ul>
      <% cart.forEach(item => { %>
        <li><%= item.name %> - ₹<%= item.price %></li>
      <% }) %>
    </ul>
    <a href="/checkout">Proceed to Checkout</a>
  <% } %>
</body>
</html>// 📁 zapkart/views/checkout.ejs

<!DOCTYPE html><html>
<head><title>Checkout</title></head>
<body>
  <h1>Checkout</h1>
  <form action="/checkout" method="POST">
    <input type="text" name="name" placeholder="Name
